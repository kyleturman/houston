# =============================================================================
# Houston Configuration
# =============================================================================
#
# Quick setup:
#   1. `make init`
#   2. Add your LLM and search API key below
#   3. `make start`
#
# What to configure based on your situation:
#   - Just trying it out?       â†’ Step 1 only (LLM + web search)
#   - Using iOS on same WiFi?   â†’ Step 1 only
#   - Using iOS from anywhere?  â†’ Steps 1 + 2 (Remote Access)
#   - Want magic link sign-in?  â†’ Steps 1 + 3 (Email)

# (optional) Name your server -- how it will appear in app and emails
SERVER_DISPLAY_NAME=My Houston Server

# =============================================================================
# ðŸš€ Step 1: AI Configuration (required)
# =============================================================================

# LLM Provider - pick one and add the API key:
ANTHROPIC_API_KEY=
# OPENAI_API_KEY=
# OPENROUTER_API_KEY=

# Web Search - agents need this to research and verify information
# Get a free API key at brave.com/search/api
BRAVE_API_KEY=

# Model selection (format: provider:model-name)
# Agents = complex reasoning, Tasks = simple operations, Summaries = text processing
#
# Examples by provider (see backend/app/services/llms/adapters for all options):
#   Anthropic:   anthropic:sonnet-4.5, anthropic:haiku-4.5, anthropic:opus-4
#   OpenAI:      openai:gpt-4.1, openai:gpt-4.1-mini, openai:o3-mini
#   OpenRouter:  openrouter:meta-llama/llama-3.3-70b-instruct
#   Ollama:      ollama:qwen3:14b, ollama:llama3.3:70b (requires OLLAMA_BASE_URL below)

LLM_AGENTS_MODEL=anthropic:sonnet-4.5
LLM_TASKS_MODEL=anthropic:haiku-4.5
LLM_SUMMARIES_MODEL=anthropic:haiku-3.5

# For local models, also set:
# OLLAMA_BASE_URL=http://host.docker.internal:11434

# =============================================================================
# ðŸ“± Step 2: Remote Access (if using iOS outside your home network)
# =============================================================================
# Skip this section if you only use Houston on your local WiFi.
#
# OPTION A: You already have a public URL (VPS, cloud, your own domain)
# SERVER_PUBLIC_URL=
#
# OPTION B: Running on a home server? Use ngrok (free) to create a tunnel:
#   1. Sign up at ngrok.com
#   2. Reserve a free static domain
#   3. Uncomment and fill in both:
# NGROK_AUTHTOKEN=
# NGROK_DOMAIN=your-name.ngrok-free.app

# =============================================================================
# ðŸ“§ Step 3: Email (optional - enables magic link sign-in)
# =============================================================================
# Without email, you'll use invite codes instead:
#   make invite-code EMAIL=user@example.com
# The first user created automatically becomes admin
#
# Set EMAIL_PROVIDER to any value to enable, then configure for your provider:
#
# Gmail (use App Password from myaccount.google.com/apppasswords):
# EMAIL_PROVIDER=gmail
# SMTP_ADDRESS=smtp.gmail.com
# SMTP_USERNAME=you@gmail.com
# SMTP_PASSWORD=xxxx-xxxx-xxxx-xxxx
#
# Resend (resend.com):
# EMAIL_PROVIDER=resend
# SMTP_ADDRESS=smtp.resend.com
# SMTP_USERNAME=resend
# SMTP_PASSWORD=re_xxxxxxxxx
# MAIL_FROM=you@yourdomain.com
#
# Amazon SES:
# EMAIL_PROVIDER=ses
# SMTP_ADDRESS=email-smtp.us-east-1.amazonaws.com
# SMTP_USERNAME=your-ses-smtp-username
# SMTP_PASSWORD=your-ses-smtp-password

# =============================================================================
# ðŸ”Œ Step 4: MCP & Integrations (optional)
# =============================================================================

# Plaid Financial Data - lets agents analyze your spending and accounts
# Sign up at plaid.com (free sandbox for testing, does require hoops with real data)
# PLAID_CLIENT_ID=
# PLAID_SECRET=
# PLAID_ENV=sandbox

# GMail and Google Calendar - custom build Google integrations running locally
# Obtain from GGS Console (free): https://console.cloud.google.com/
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# Other MCP local servers, for installation read mcp/README.md

# =============================================================================
# =============================================================================
#                    ADVANCED SETTINGS (usually don't change)
# =============================================================================
# =============================================================================

# Secrets (auto-generated by `make init` - don't edit manually)
SECRET_KEY_BASE=
USER_ENCRYPTION_KEY=
ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY=
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=
PAIRING_JWT_SECRET=

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
PORT=3033                    # Internal port (PaaS like Heroku/Railway override this)
RAILS_ENV=production
RAILS_LOG_LEVEL=info         # For development: =development and =debug

# -----------------------------------------------------------------------------
# Database (password auto-generated by `make init`)
# -----------------------------------------------------------------------------
POSTGRES_DB=houston
POSTGRES_USER=houston
POSTGRES_PASSWORD=
POSTGRES_PORT=5432
DB_HOST=postgres
REDIS_URL=redis://redis:6379/0

# For external database:
# DATABASE_URL=postgres://user:pass@host:5432/houston

# -----------------------------------------------------------------------------
# Mobile App
# -----------------------------------------------------------------------------
APP_URL_SCHEME=heyhouston
ENABLE_CORS=true
CORS_ORIGINS=*
PAIRING_TOKEN_TTL=600
SIGNIN_TOKEN_TTL=900
# IOS_DEVICE_NAME=              # For `make ios-build-device`


